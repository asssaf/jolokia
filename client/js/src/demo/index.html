<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<script src='../json2.js' type='text/javascript'></script>
<script src='../JolokiaJS.js' type='text/javascript'></script>
<script src='jquery-1.4.2.min.js' type='text/javascript'></script>
<script language="javascript" type="text/javascript" src="jquery.flot.js"></script>
<script language="javascript" type="text/javascript" src="jquery.timers-1.2.js"></script>
<script src='demo.js' type='text/javascript'></script>
<head>
    <title>j4pjs test/demo</title>
</head>
<script type="text/javascript">

jQuery(document).ready( setupDemo );
</script>
<body>
REQUEST: <input type="button" onclick="sendViaRequest();" value="Send via JolokiaJS.Request.post()"/>
<input type="button" onclick="sendViaJQuery();" value="Send directly via jQuery"/>
<br/>
<textarea rows="15" cols="60" id="taREQUEST">
    {
    "type" : "READ",
    "mbean" : "java.lang:type=Memory",
    "attribute" : "HeapMemoryUsage",
    "path" : "used"
  }
</textarea>


<br/>
RESPONSE:<br/>

<textarea rows="15" cols="60" id="taRESPONSE">
</textarea>

<hr/>
Server memory usage (code by <a href="http://banjo.rbfh.de:11111/graphs/">DaTa</a>):<br/>

<button id="buttonMemory" onclick="setupMemoryCollector(3000);jQuery(this).remove();">Start collecting server-side
memory stats...</button><br/>

<div id="heap" style="width:800px;height:300px;"></div>
 <div id="legend"></div>
 Used: <span id="used"></span><br />
 Max: <span id="max"></span><br />
 Committed: <span id="committed"></span><br />
 Init: <span id="init"></span>
<br/>
Response JSON:<br/>
<pre id="memoryResponse" style="border:1px dashed lightgray"></pre> 
</body>
</html>
